<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
                *
        {
            width: fit-content;
            box-sizing: border-box;
            padding: 0;
            margin: 0;
            font-family: sans-serif;
        }
        header
        {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            background: #833AB4;
            background: linear-gradient(166deg,rgba(131, 58, 180, 1) 0%, rgba(253, 29, 29, 1) 50%, rgba(252, 176, 69, 1) 100%);            background-size:cover ;
            height: 100vh;
            width: 100vw;
            position: sticky;
            top: 0px;
            left: 0px;
        }
        span{
            width:40vw;
            height:5vh;
            background: black;
            border-radius: 2.5vh;
            margin: 1rem;
            overflow: hidden;
        }
        p{
            width:0%;
            height:5vh;
            background: white;
            border-radius: 2.5vh;
        }
        button{
            background: black;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: .5rem;

        }
        div{
            font-size: xx-large;
        }
    </style>
</head>
<body>
    <header>
        <div>0%</div>
        <span><p></p></span>
        <button>Download</button>

    </header>



    <script>
        let text = document.querySelector("div")
        let btn = document.querySelector("button")
        let span = document.querySelector("span")
        let p = document.querySelector("p")
        let i=0
        intervalSpan = 50
        let intervalID = null;
        p.style.transitionDuration = `${intervalSpan}ms`

        btn.addEventListener("click", ()=>{
            if (intervalID !==null){
                clearInterval(intervalID);
                p.style.transitionDuration = `0ms`
                text.innerText=`0%`


            }
            if(i==101){
                p.style.transitionDuration = `0ms`
                text.innerText=`0%`
            }
            i=0
            intervalID = setInterval(()=>{
            if (i==1){
                p.style.transitionDuration = `${intervalSpan}ms`

            }   

            if (i == 100){
                clearInterval(intervalID)

            }
            let WtB = `rgb(${255-2.55*i}, ${255-2.55*i}, ${255-2.55*i})`
            let BtW = `rgb(${2.55*i}, ${2.55*i}, ${2.55*i})`
            // btn.style.color = WtB
            // btn.style.backgroundColor = BtW
            p.style.backgroundColor = WtB
            span.style.backgroundColor = BtW
            // text.style.color =BtW
            text.innerText = `${i}%`
            p.style.width = `${i}%`
            i++
        },intervalSpan)

        })

    </script>
</body>
</html>
